---
title: "Dynamics with two variables"
author: "Sam Muir & Melissa Widas"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(sensitivity)
library(tidyverse)
library(deSolve)
library(lhs)
library(purrr)
library(ggpubr)
source("lotvmodK.R")
lotvmodK
```

```{r}
# Initial conditions
currpop <- c(prey = 100, pred = 10)

# Set parameter list
pars <- c(rprey = 0.1, K = 500, alpha = 0.002, beta = 0.005, eff = 0.1, pmort = 0.1)

# Times when you want to evaluate
days <- seq(from = 1, to = 500)

# run our differential equation solver
res = ode(func=lotvmodK, y=currpop, times=days, parms=pars, min_prey_pop = 50, method = "ode45")
```

```{r}
# rearrange for plotting
resl = as.data.frame(res) %>% 
  pivot_longer(-time, names_to="species", values_to="pop")

# graph both populations over time
p1=ggplot(resl, aes(time, pop, col=species))+geom_line()
p1
```


